import{p as o,f as W,i as F,g as i,S as X,M,h as p,j as ee,k as te,l,e as le,t as d,B as ae,C as re,D as ne}from"./index-GrT5OoDW.js";var se=d("<span>Anonymous User"),oe=d("<p>"),ie=d('<main class="mt-10 flex flex-col md:flex-row gap-5"><div class="shadow-2xl border grow p-5 rounded-2xl"><section><p class="font-bold text-xl">Change Name </p><div><span class="text-xl py-2"></span><button><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-6><path stroke-linecap=round stroke-linejoin=round d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></button></div><form><label for=name class="flex flex-col"><span>New Name:</span><input id=name class="p-2 border rounded-md"type=text></label><label for=password class="flex flex-col"><span>New Password:</span><input id=password class="p-2 border rounded-md"type=password></label><div class="flex gap-5"><button type=submit>Save</button><button type=button class="bg-red-600 hover:bg-red-900 px-5 py-2 rounded-md text-white">Cancel</button></div></form></section></div><section class="shadow-2xl border grow p-5 rounded-2xl"><h1 class="font-bold text-xl text-red-900">Account Deactivation</h1><div><button class="bg-red-600 hover:bg-red-900 px-5 py-2 rounded-md text-white">Deactivate Account</button></div><div><h1 class=italic>Are you sure you want to delete your account?</h1><button>Yes</button><button class="bg-red-600 hover:bg-red-900 px-5 py-2 rounded-md text-white">No'),de=d("<div>Loading...");const ue=()=>{const[v,c]=o(!1),[m,u]=o(!1),[a,r]=o(!1),[g,$]=o({name:"",password:""}),j=W(),B=async()=>{r(!0);try{const{name:t,password:n}=g();await ae(t||null,n||null),c(!1),re()}catch(t){console.error("Failed to update user details:",t)}finally{r(!1)}},H=async()=>{r(!0);try{await ne(),localStorage.removeItem("isLoggedIn"),j("/register")}catch(t){console.error("Failed to delete account:",t)}finally{r(!1),u(!1)}};return(()=>{var t=ie(),n=t.firstChild,I=n.firstChild,O=I.firstChild,b=O.nextSibling,w=b.firstChild,T=w.nextSibling,f=b.nextSibling,y=f.firstChild,z=y.firstChild,P=z.nextSibling,_=y.nextSibling,R=_.firstChild,V=R.nextSibling,Y=_.nextSibling,x=Y.firstChild,Z=x.nextSibling,q=n.nextSibling,G=q.firstChild,h=G.nextSibling,J=h.firstChild,S=h.nextSibling,K=S.firstChild,s=K.nextSibling,Q=s.nextSibling;return F(w,i(ee,{get fallback(){return de()},get children(){return i(X,{get children(){return[i(M,{get when(){return p.error},get children(){return se()}}),i(M,{get when(){return p()},get children(){var e=oe();return F(e,()=>p().name),e}})]}})}})),T.$$click=()=>c(!0),f.addEventListener("submit",e=>{e.preventDefault(),B()}),P.$$input=e=>$({...g(),name:e.currentTarget.value}),V.$$input=e=>$({...g(),password:e.currentTarget.value}),Z.$$click=()=>c(!1),J.$$click=()=>u(!0),s.$$click=H,Q.$$click=()=>u(!1),te(e=>{var k=`flex flex-row gap-5 ${v()?"hidden":"block"} `,C=`flex flex-col gap-4 ${v()?"block":"hidden"} `,D=`bg-emerald-600 hover:bg-emerald-900 px-5 py-2 rounded-md text-white ${a()?"opacity-50 cursor-not-allowed":""}`,A=a(),L=`flex flex-row gap-5 ${m()?"hidden":"block"} `,N=`flex flex-row gap-5 ${m()?"block":"hidden"} `,E=`bg-emerald-600 hover:bg-emerald-900 px-5 py-2 rounded-md text-white ${a()?"opacity-50 cursor-not-allowed":""}`,U=a();return k!==e.e&&l(b,e.e=k),C!==e.t&&l(f,e.t=C),D!==e.a&&l(x,e.a=D),A!==e.o&&(x.disabled=e.o=A),L!==e.i&&l(h,e.i=L),N!==e.n&&l(S,e.n=N),E!==e.s&&l(s,e.s=E),U!==e.h&&(s.disabled=e.h=U),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t})()};le(["click","input"]);export{ue as default};
