import{m as v,s as k,u as _,a as C,b as S,c as y,n as m,d as L,t as d,e as w,f as p,i as a,g as r,S as M,M as x,h as u,j,k as I,l as A,o as B,p as E,q as H}from"./index-BKgelCms.js";var O=d("<a>");function h(e){e=v({inactiveClass:"inactive",activeClass:"active"},e);const[,c]=k(e,["href","state","class","activeClass","inactiveClass","end"]),g=_(()=>e.href),n=C(g),i=S(),o=y(()=>{const t=g();if(t===void 0)return[!1,!1];const l=m(t.split(/[?#]/,1)[0]).toLowerCase(),s=decodeURI(m(i.pathname).toLowerCase());return[e.end?l===s:s.startsWith(l+"/")||s===l,l===s]});return(()=>{var t=O();return L(t,v(c,{get href(){return n()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o()[0],[e.activeClass]:o()[0],...c.classList}},link:"",get"aria-current"(){return o()[1]?"page":void 0}}),!1),t})()}var P=d("<span>Anonymous User"),z=d("<p>"),N=d('<aside><header class="flex justify-end lg:hidden"><button class=cursor-pointer aria-label="Close Sidebar"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-6><path stroke-linecap=round stroke-linejoin=round d="M6 18 18 6M6 6l12 12"></path></svg></button></header><h2 class="mt-2 text-xl text-center"><span>Welcome, </span></h2><hr class=my-5><nav class="flex flex-col bg-emerald-100 shadow-inner rounded-lg px-5 py-5 gap-2"></nav><hr class="my-5 botton-0"><button class="py-2 px-5 bg-red-500 text-white hover:bg-red-900 rounded-lg">Logout'),R=d("<div>Loading...");const T=e=>{const c=p(),g=async()=>{try{(await fetch(`//${window.location.host}/api/auth/logout`,{method:"GET",credentials:"include"})).status===500?console.log("Internal server error"):(B(!1),localStorage.removeItem("isLoggedIn"),c("/login"))}catch(n){console.error("Error logging out:",n)}};return(()=>{var n=N(),i=n.firstChild,o=i.firstChild,t=i.nextSibling;t.firstChild;var l=t.nextSibling,s=l.nextSibling,$=s.nextSibling,b=$.nextSibling;return o.$$click=()=>e.setOpen(!e.open()),a(t,r(j,{get fallback(){return R()},get children(){return r(M,{get children(){return[r(x,{get when(){return u.error},get children(){return P()}}),r(x,{get when(){return u()},get children(){var f=z();return a(f,()=>u().name),f}})]}})}}),null),a(s,r(h,{href:"/",class:"link",get children(){return["Home"," "]}}),null),a(s,r(h,{href:"/categories",class:"link",children:"Categories"}),null),a(s,r(h,{href:"/transactions",class:"link",get children(){return["Transactions"," "]}}),null),a(s,r(h,{href:"/settings",class:"link",get children(){return["Settings"," "]}}),null),b.$$click=g,I(()=>A(n,`bg-emerald-900 fixed left-0 top-0 shadow-3xl p-5 h-screen ${e.open()?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-500 px-4 w-64 z-50 flex flex-col`)),n})()};w(["click"]);var U=d('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-6 h-6"><path stroke-linecap=round stroke-linejoin=round d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z">'),W=d('<div class="primary_bg flex te h-svh justify-center lg:ml-64"><main class="flex-grow transition-all duration-500 overflow-y-auto mx-auto"><header class="flex justify-between mx-5 p-2"><button class="cursor-pointer lg:hidden"aria-label="Open Sidebar"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-6 h-6"><path stroke-linecap=round stroke-linejoin=round d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></button><h1 class=text-2xl>FinTrak</h1></header><section class="w-full p-5">');const F=e=>{const[c,g]=E(!1);let n=p();return H()||n("/login"),(()=>{var i=W(),o=i.firstChild,t=o.firstChild,l=t.firstChild;l.nextSibling;var s=t.nextSibling;return a(i,r(T,{open:c,setOpen:g}),o),l.$$click=()=>g(!c()),a(t,r(h,{href:"/settings",get children(){return U()}}),null),a(s,()=>e.children),i})()};w(["click"]);export{F as default};
